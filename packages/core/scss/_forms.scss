/*
 * COPYRIGHT (c) Siemens AG 2018-2022 ALL RIGHTS RESERVED.
 */
@import './graphics.scss';
@import './mixins/text-truncation';
@import './mixins/shadows';

@mixin from-control-invalid {
  @include addIconToInput($svg-url-invalid-input);
  color: $form-feedback-invalid-color;
}

.form-control,
.form-control-plaintext {
  @include text-default();
  color: var(--theme-color-std-text);
  @include ellipsis;
  border-radius: $default-border-radius;
  height: $default-control-height;
  min-height: $default-control-height;
  min-width: $input-min-width;
  background-color: var(--theme-color-1);
  border: var(--theme-std-bdr-1);

  &::placeholder {
    color: var(--theme-color-weak-text);
  }
}

.form-control:focus {
  @include primary-glow;
  background-color: var(--theme-color-1);
  border-color: var(--theme-color-primary);
  color: var(--theme-color-std-text);
}

.form-control[type='number'] {
  &::-webkit-inner-spin-button {
    -webkit-appearance: none;
  }

  padding-inline-end: $input-padding-x;
  text-align: right;

  &:focus ~ cui-numeric-split-button > button {
    border-inline-end-color: $primary;

    &:first-child {
      border-block-start-color: $primary;
    }

    &:last-child {
      border-block-end-color: $primary;
    }
  }
}

.form-control[readonly] {
  background: transparent !important;
  border-block-start: none !important;
  border-inline-start: none !important;
  border-inline-end: none !important;
  border-radius: 0rem;
  color: var(--theme-color-std-text);
}

.form-control:read-only,
.form-control[readonly],
.form-control.readonly {
  box-shadow: none !important;
}

.form-control:disabled,
.form-control.disabled {
  background: transparent !important;
  border: var(--theme-weak-bdr-1);
  border-block-start: none !important;
  border-inline-start: none !important;
  border-inline-end: none !important;
  border-radius: 0rem;
  color: var(--theme-color-weak-text);
}

.form-control-plaintext {
  outline: 0;
  padding-inline-start: $input-padding-x;
  padding-inline-end: $input-padding-x;
}

.form-group {
  position: relative;
}

.is-invalid {
  @include from-control-invalid;
}

.form-control.ng-invalid.ng-touched:not(:focus) {
  @include addIconToInput($svg-url-invalid-input);
  border: 0.062rem solid $form-feedback-invalid-color;
  color: $form-feedback-invalid-color !important;
}

.input-wrapper {
  display: flex;
  position: relative;
  align-items: center;
  flex-wrap: nowrap;

  > .glyph {
    display: block;
    position: absolute;
    margin-inline-start: 0.312rem;
    color: var(--theme-color-std-text);
  }

  > input {
    padding-inline-start: 2.2rem;
  }
}

select.form-control {
  padding: 0 0.312rem;
}

textarea {
  &.form-control {
    padding: 0.375rem $small-space;
  }
}
